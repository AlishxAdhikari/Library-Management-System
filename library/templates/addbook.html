{% load static %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Data Entry | LibPro LMS</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; }
    
    .sidebar-glass {
      background: rgba(15, 23, 42, 0.9);
      backdrop-filter: blur(20px);
      border-right: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .form-glass {
      background: rgba(30, 41, 59, 0.3);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    .input-field {
      background: rgba(15, 23, 42, 0.6) !important;
      border: 1px solid rgba(255, 255, 255, 0.1) !important;
      color: white !important;
      transition: all 0.3s ease;
    }

    .input-field:focus {
      border-color: #6366f1 !important;
      box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.15) !important;
      background: rgba(15, 23, 42, 0.8) !important;
    }

    .text-gradient {
      background: linear-gradient(to right, #818cf8, #c084fc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Custom styling for date picker icon */
    input[type="date"]::-webkit-calendar-picker-indicator {
      filter: invert(1);
      opacity: 0.5;
      cursor: pointer;
    }

    .dropdown:hover .dropdown-menu { display: block; }
  </style>
</head>

<body class="bg-[#020617] text-slate-200 flex">

  <aside class="fixed left-0 top-0 h-screen w-64 sidebar-glass z-[110] hidden lg:flex flex-col p-6">
    <div class="mb-10 flex items-center space-x-2">
      <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center font-bold">L</div>
      <span class="text-xl font-black tracking-tighter">LIB<span class="text-indigo-500">PRO</span></span>
    </div>

    <nav class="flex-1 space-y-2 text-sm font-medium">
      <a href="{% url 'home' %}" class="flex items-center space-x-3 p-3 rounded-xl hover:bg-white/5 transition">
        <span>üè† Home Dashboard</span>
      </a>
      <a href="{% url 'view-book' %}" class="flex items-center space-x-3 p-3 rounded-xl hover:bg-white/5 transition">
        <span>üìö Browse Catalog</span>
      </a>
      <a href="{% url 'add_book_view' %}" class="flex items-center space-x-3 p-3 rounded-xl bg-indigo-600/10 text-indigo-400 border border-indigo-600/20 transition">
        <span>‚ûï Add New Volume</span>
      </a>
      <a href="{% url 'about' %}" class="flex items-center space-x-3 p-3 rounded-xl hover:bg-white/5 transition">
        <span>‚ÑπÔ∏è About Archive</span>
      </a>
    </nav>

    <div class="mt-auto pt-6 border-t border-white/5">
      {% if user.is_authenticated %}
      <div class="flex items-center space-x-3 p-2 bg-white/5 rounded-2xl">
        <div class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center font-bold text-xs">{{ user.username|slice:":2"|upper }}</div>
        <div class="overflow-hidden">
          <p class="text-xs font-bold truncate">Hi, {{ user.username }}</p>
          <a href="{% url 'logout' %}" class="text-[10px] text-rose-400 hover:text-rose-300 font-bold uppercase tracking-wider transition">Logout</a>
        </div>
      </div>
      {% endif %}
    </div>
  </aside>

  <main class="flex-1 lg:ml-64 relative min-h-screen flex flex-col">
    
    <header class="px-8 py-6 flex items-center justify-between border-b border-white/5">
      <div>
        <h2 class="text-xs font-black text-slate-500 uppercase tracking-[0.3em]">System Interface</h2>
        <p class="text-sm font-bold">Inventory Registration</p>
      </div>
      <a href="{% url 'view-book' %}" class="text-xs font-bold text-indigo-400 hover:text-indigo-300 transition flex items-center">
        ‚Üê VIEW ALL RECORDS
      </a>
    </header>

    <div class="flex-1 flex items-center justify-center p-6 lg:p-12">
      <div class="w-full max-w-2xl" data-aos="zoom-in-up">
        
        <div class="form-glass rounded-[32px] p-8 lg:p-12 relative overflow-hidden">
          <div class="absolute -top-24 -right-24 w-64 h-64 bg-indigo-600/10 blur-[80px]"></div>
          
          <div class="relative z-10">
            <h1 class="text-4xl font-black mb-2 tracking-tight">Register <span class="text-gradient">Volume</span></h1>
            <p class="text-slate-500 text-sm mb-10 font-medium">Enter details to index this asset into the LibPro master repository.</p>

            <form action="/add-book/add/" method="post" class="space-y-6">
              {% csrf_token %}
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="col-span-1 md:col-span-2">
                  <label class="block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 ml-1">Volume Title</label>
                  <input type="text" name="title" placeholder="e.g. The Great Gatsby" 
                         class="input-field w-full px-5 py-4 rounded-2xl outline-none text-sm font-medium" required>
                </div>

                <div>
                  <label class="block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 ml-1">Author / Creator</label>
                  <input type="text" name="author" placeholder="Full Name" 
                         class="input-field w-full px-5 py-4 rounded-2xl outline-none text-sm font-medium" required>
                </div>

                <div>
                  <label class="block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 ml-1">Valuation (NPR)</label>
                  <input type="number" name="price" placeholder="0.00" 
                         class="input-field w-full px-5 py-4 rounded-2xl outline-none text-sm font-medium" required>
                </div>

                <div>
                  <label class="block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 ml-1">Inbound Date</label>
                  <input type="date" name="received_date" 
                         class="input-field w-full px-5 py-4 rounded-2xl outline-none text-sm font-medium">
                </div>

                <div>
                  <label class="block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2 ml-1">Expected Return</label>
                  <input type="date" name="return_date" 
                         class="input-field w-full px-5 py-4 rounded-2xl outline-none text-sm font-medium">
                </div>
              </div>

              <div class="pt-6">
                <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-5 rounded-2xl shadow-lg shadow-indigo-600/20 transition-all transform hover:-translate-y-1 active:scale-95">
                  INITIALIZE REGISTRATION
                </button>
                <p class="text-center text-[10px] text-slate-600 mt-6 font-bold uppercase tracking-widest">
                  Secure Data Transmission Encrypted
                </p>
              </div>
            </form>
          </div>
        </div>

      </div>
    </div>

    <footer class="py-8 px-12 border-t border-white/5 flex justify-center text-slate-500 text-[10px] font-bold uppercase tracking-[0.2em]">
      <p>&copy; 2026 LibPro Institutional Repository ‚Äî Terminal 04</p>
    </footer>
  </main>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 800, once: true });
  </script>
</body>
</html>